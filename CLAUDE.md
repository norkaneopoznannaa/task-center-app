# Task Center - Контекст для Claude

## Назначение
Это приложение для управления рабочими задачами Виктора - системного аналитика проекта РЭМД/ЕГИСЗ.

## Роль Claude
Я помогаю:
- Управлять задачами (просмотр, добавление, приоритизация)
- Отслеживать время работы над задачами
- Планировать рабочий день
- Синхронизировать worklogs с Jira
- Развивать само приложение Task Center

---

## Структура проекта

### Два связанных репозитория
1. **Task_Center/** (Python backend) - текущая директория
2. **task-center-app/** (Electron frontend) - `C:\Users\vignatov\task-center-app\`

### Ключевые файлы
| Файл | Назначение |
|------|------------|
| `data/tasks.json` | Рабочие задачи с time tracking |
| `core/api.py` | TaskAPI - программный доступ к задачам |
| `core/models.py` | Task, Priority, Status, TaskType |
| `core/storage.py` | SQLite хранилище |
| `task_manager.py` | CLI интерфейс |
| `tests/` | pytest тесты (45 тестов) |

### Frontend (task-center-app/)
| Файл | Назначение |
|------|------------|
| `src/App.tsx` | Главный компонент React |
| `src/components/` | UI компоненты |
| `electron/main.ts` | Electron main process |
| `electron/preload.ts` | IPC bridge |

---

## Slash-команды
- `/tasks` - показать все задачи с приоритетами
- `/plan` - спланировать день (что делать сегодня)
- `/add-task` - добавить новую задачу

---

## Проекты пользователя

### Активные проекты
| Проект | Jira prefix | Описание |
|--------|-------------|----------|
| КУ ФЭР | EGISZKUFER-* | Контур управления федеральными электронными ресурсами |
| РЭМД | EGISZREMD-* | Региональные электронные медицинские документы |
| Общие | - | Координация, документация, митинги |

### Доменные термины
- **ФЛК** - формально-логический контроль
- **СЭМД** - структурированные электронные медицинские документы
- **ГИСЗ** - государственная информационная система здравоохранения
- **МИС** - медицинская информационная система

---

## Технический стек

### Backend (Python)
- Python 3.9+
- SQLite (ACID, WAL mode)
- Claude API (AI классификация)
- pytest (тесты)

### Frontend (Electron)
- Electron + React + Vite
- TypeScript
- @dnd-kit (drag-and-drop)

---

## Частые команды

```bash
# Запуск тестов
cd Task_Center && python -m pytest tests/ -v

# Запуск CLI
python task_manager.py list
python task_manager.py recommend

# Запуск Electron приложения
cd task-center-app && npm run build:electron && npx cross-env NODE_ENV=development npx electron .
```

---

## Предпочтения пользователя

### Стиль кода
- Комментарии на русском OK
- Названия переменных на английском
- Type hints обязательны
- Docstrings для публичных функций

### Рабочий процесс
- Пользователь работает в Windows
- Использует VS Code
- Jira для трекинга задач
- Предпочитает краткие ответы

---

## При старте сессии

Если пользователь не уточнил задачу:
1. Спросить "Чем помочь сегодня?"
2. Предложить `/plan` для планирования дня
3. Показать текущие задачи через `/tasks`

### Если есть активный time tracking
Проверить `data/tasks.json` на наличие незакрытых `time_sessions` и напомнить пользователю.

---

## Известные особенности

### Что работает хорошо
- TaskAPI для быстрого доступа к задачам
- Time tracking с сессиями
- Jira worklog синхронизация
- 45 unit тестов проходят

### Что можно улучшить
- Добавить больше интеграционных тестов
- Улучшить AI классификацию задач
- Добавить уведомления о дедлайнах

---

## История изменений (последние)

- **v1.1.0**: UI improvements, Jira worklog sync, drag-and-drop
- **v1.0.0**: Initial release - tasks, daily plan, timer, filtering
- Code review: 8.7/10 (было 6.5/10)
